asm85 8085 Assembler by nib

(0037)               1: sym1	equ	55
(0055)               2: sym2	equ	55h
(1234)               3: sym3 equ 1234h
(0006)               4: num4	equ	0110b		; Binary constant
(0077)               5: bah	equ	77h
0000 34 12 78 56     6: dater:  dw	1234h,5678h
0004 12 34           7: modater:db	12h  , 34hi ,56h,78h
0006 4c 49 4c 59     8: str:    DB	"LILY",00h
     00 
000b 4b 61 74 69     9: str2:   DB	"Katie" , 80
     65 50 
0011 54 6f 6d 52    10: str3:   db	"Tom","Rox"
     6f 78 
                    11: bad:	db	"where is the end
ERROR - Unterminated string: "where is the end

0017 63 6f 62 62    12: hexy:   db	"cobb\xbe\xef"
     be ef 
001d 22 61 69 72    13: quote:  db	"\"air\""
     22 
0022 22 62 75 64    14: quote2: db	"\"bud\"more"
     22 6d 6f 72
     65 
002b 5c 61 62 63    15: slash:  db	"\\abc"
002f 09 0a 0d 77    16: special:db	"\t\n\r",bah,beh, bad,sym1,sym2 
ERROR - Label not found: beh

                    17: 123
ERROR - Illegal character in column 1.  Must be label or space, found: 123

                    18: "abc"
ERROR - Illegal character in column 1.  Must be label or space, found: "abc"

                    19: +
ERROR - Illegal character in column 1.  Must be label or space, found: +

                    20: 
+0008               21: buffer	ds	8		; Can reserve space with DS.
003b 3e 41          22: char2:  mvi	a,'A'
003d 06             23: char3:	mvi	b,'abc'		; ERR: Can't use string in expression.
ERROR - Multi-character string not allowed in expression.

003e 06 00          24: symbol: dw str,nope,str2,65535,cafeh,sym3
ERROR - Label not found: nope

0040 31 00 21       25:         LXI	SP,2100H
                    26: 
                    27: VeryVeryVeryLongLabel:
0043 4c 61 62 65    28: 	db	"Labels can be up to 32 characters and must start with an alpha."
     6c 73 20 63
     61 6e 20 62
     65 20 75 70
     20 74 6f 20
     33 32 20 63
     68 61 72 61
     63 74 65 72
     73 20 61 6e
     64 20 6d 75
     73 74 20 73
     74 61 72 74
     20 77 69 74
     68 20 61 6e
     20 61 6c 70
     68 61 2e 
                    29: 
                    30: 
0082 27             31: single: db	"'"
0083 22             32: char:	db	'"'
                    33: 
                    34: ; Some common C-style string escapes are supported: CR, LF, tab, NULL, and
                    35: ; hex value.  Hex escapes can use upper or lower case and must be 2 digits.
0084 0d 0a 09 2a    36: 	db	"\r\n\t\x2a\x2B\0"
     2b 00 
                    37: 
                    38: ; The backslash can also be used to escape quotes or the backslash character itself.
008a 5c             39: 	db	'\\'			; Backslash character.
008b 27             40: 	db	'\''			; Single quote character.
008c 27             41: 	db	"'"			; Same string using double quotes.
008d 41 20 22 71    42: 	db	"A \"quoted\" string"	; Quotes within quotes.
     75 6f 74 65
     64 22 20 73
     74 72 69 6e
     67 
009e 41 20 22 71    43: 	db	'A "quoted" string'	; Same string using single quotes.
     75 6f 74 65
     64 22 20 73
     74 72 69 6e
     67 
                    44: 	db	"mismatch'		; ERR: quotes must match.
ERROR - Unterminated string: "mismatch'		; ERR: quotes must match.

                    45: 	
(000d)              46: CR	equ	13
(000a)              47: LF	equ	'\n'
00af 41 42 43 31    48: 	db	"ABC123\r\n"
     32 33 0d 0a
00b7 41 42 43 31    49: 	db	"ABC123",CR,LF
     32 33 0d 0a
00bf 41 42 43 31    50: 	db	"ABC123",13,10
     32 33 0d 0a
00c7 41 42 43 31    51: 	db	'A','B','C','1','2','3','\r','\n'
     32 33 0d 0a
00cf 41 42 43 31    52: 	db	"ABC",31h,32h,"3",'\r',LF
     32 33 0d 0a
                    53: 
                    54: 
                    55: 
                    56: 
                    57: 
                    58: 
                    59: 
                    60: 
                    61: var6	equ	7+7*7+7/(7-7)
ERROR - Divide by zero

(0057)              62: var0	equ	01010111b
                    63: 
(80d7)              64: 	org $ + 08000h
(0020)              65: var1	equ	32
(80d8)              66: var2	equ	$ + 1
(0030)              67: var3	equ	16* 3
(0005)              68: var4	equ	(2+3)
+0014               69: stuff	ds	20
(000e)              70: ssize	equ	$ - stuff
80eb 48 12          71: stuff2	dw	0ffffh & 01248h
80ed 5f             72: stuff3	db	var0   |05ah
80ee 41 42 43       73: stuff4	db	"ABC"
80f1 61 62 63       74: stuff5	db 	'a','b','c'
80f4 61             75: stuff6	db	020H | 'A'
80f5 42             76: stuff7	db	'B'&11011111B
80f6 31 32 33 09    77: stuff8	db	"123",09H, "456", 0AH
     34 35 36 0a
80fe 61 62 63 0a    78: stuff9  db      "abc\ndef\rghi\x00\x30"
     64 65 66 0d
     67 68 69 00
     30 
810b 61 62 63 22    79: stuff10 db      "abc\"d"
     64 
                    80: 
8110 0d 0a          81: var7:	db	00dh, 00ah
(0000)              82: var8:	equ	0
8112 79 65 61 68    83: var9:	db	"yeah, baby"
     2c 20 62 61
     62 79 
                    84: 
                    85: 
                    86: 
811c 0e 54          87:         mvi     c,'T'           ; Send a test character
811e 06             88:         mvi     b,OUTBITS       ; Number of output bits
ERROR - Label not found: OUTBITS

811f af             89:         xra     a               ; Clear carry for start bit
8120 3e 80          90:         mvi     a,080H          ; Set the SDE flag
8122 1f             91:         rar                     ; Shift carry into SOD flag
8123 3f             92:         cmc                     ;   and invert carry.  Why? (serial is inverted?)
8124 30             93:         sim                     ; Output data bit
8125 21             94:         lxi     h,BITTIME       ; Load the time delay for one bit width
ERROR - Label not found: BITTIME

8126 2d             95:         dcr     l               ; Wait for bit time
8127 c2             96:         jnz     CO2
ERROR - Label not found: CO2

8128 25             97:         dcr     h
8129 c2             98:         jnz     CO2
ERROR - Label not found: CO2

812a 37             99:         stc                     ; Shift in stop bit(s)
812b 79            100:         mov     a,c             ; Get char to send
812c 1f            101:         rar                     ; LSB into carry
812d 4f            102:         mov     c,a             ; Store rotated data
812e 05            103:         dcr     b
812f c2            104:         jnz     CO1             ; Send next bit
ERROR - Label not found: CO1

8130 fb            105:         ei
8131 c3            106:         jmp     START
ERROR - Label not found: START

                   107: 
                   108: 

108 lines, 15 errors, 0 warnings


SYMBOL TABLE:

sym1            : 0037 (55)
sym2            : 0055 (85)
sym3            : 1234 (4660)
num4            : 0006 (6)
bah             : 0077 (119)
dater           : 0000 (0)
modater         : 0004 (4)
str             : 0006 (6)
str2            : 000b (11)
str3            : 0011 (17)
bad             : 0017 (23)
hexy            : 0017 (23)
quote           : 001d (29)
quote2          : 0022 (34)
slash           : 002b (43)
special         : 002f (47)
buffer          : 0037 (55)
char2           : 0037 (55)
char3           : 0039 (57)
symbol          : 003a (58)
VeryVeryVeryLongLabel: 0049 (73)
single          : 0088 (136)
char            : 0089 (137)
CR              : 000d (13)
LF              : 000a (10)
var6            : 00dd (221)
var0            : 0057 (87)
var1            : 0020 (32)
var2            : 80d8 (32984)
var3            : 0030 (48)
var4            : 0005 (5)
stuff           : 80dd (32989)
ssize           : 000e (14)
stuff2          : 80dd (32989)
stuff3          : 80df (32991)
stuff4          : 80e0 (32992)
stuff5          : 80e3 (32995)
stuff6          : 80e6 (32998)
stuff7          : 80e7 (32999)
stuff8          : 80e8 (33000)
stuff9          : 80f0 (33008)
stuff10         : 80fd (33021)
var7            : 8102 (33026)
var8            : 0000 (0)
var9            : 8104 (33028)


Total memory is 278 bytes
